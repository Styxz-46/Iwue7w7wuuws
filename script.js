
// Encrypted by TakaStore
var _0x = "Ly8gRml4IHVudHVrIG1vYmlsZSB2aWV3cG9ydApmdW5jdGlvbiBzZXRWaWV3cG9ydEhlaWdodCgpIHsKICAgIGxldCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7CiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBgJHt2aH1weGApOwp9CgovLyBEYXRhIHByb2R1ayBhcGxpa2FzaSBwcmVtaXVtIGRlbmdhbiB2YXJpYW4KY29uc3QgcHJvZHVjdHMgPSBbCiAgICB7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogIkFsaWdodCBNb3Rpb24gUHJvIiwKICAgICAgICBkZXNjcmlwdGlvbjogIkFwbGlrYXNpIGVkaXQgdmlkZW8gcHJlbWl1bSBkZW5nYW4gZWZlayBwcm9mZXNpb25hbCB1bnR1ayBjb250ZW50IGNyZWF0b3IuIiwKICAgICAgICBiYXNlSW1hZ2U6ICJhbGlnaHQucG5nIiwKICAgICAgICBjYXRlZ29yeTogIlZpZGVvIEVkaXRpbmciLAogICAgICAgIHZhcmlhbnRzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlkOiAiYWxpZ2h0LWlvcyIsCiAgICAgICAgICAgICAgICBuYW1lOiAiQWxpZ2h0IE1vdGlvbiBpT1MiLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJWZXJzaSB1bnR1ayBpUGhvbmUgZGFuIGlQYWQiLAogICAgICAgICAgICAgICAgcHJpY2U6IDIwMDAsCiAgICAgICAgICAgICAgICBpbWFnZTogImFsaWdodC5wbmciCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlkOiAiYWxpZ2h0LWFuZHJvaWQiLAogICAgICAgICAgICAgICAgbmFtZTogIkFsaWdodCBNb3Rpb24gQW5kcm9pZCIsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIlZlcnNpIHVudHVrIEFuZHJvaWQiLAogICAgICAgICAgICAgICAgcHJpY2U6IDIwMDAsCiAgICAgICAgICAgICAgICBpbWFnZTogImFsaWdodC5wbmciCiAgICAgICAgICAgIH0gICAgICAKICAgICAgICBdCiAgICB9Cl07CgovLyBEYXRhIGtlcmFuamFuZyBkYXJpIGxvY2FsU3RvcmFnZQpsZXQgY2FydCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rha2lzdG9yZV9jYXJ0JykpIHx8IFtdOwoKLy8gVmFyaWFiZWwgdW50dWsgbWV0b2RlIHBlbWJheWFyYW4gZGFuIHZhcmlhbgpsZXQgc2VsZWN0ZWRQYXltZW50TWV0aG9kID0gbnVsbDsKbGV0IGN1cnJlbnRQcm9kdWN0ID0gbnVsbDsKbGV0IHNlbGVjdGVkVmFyaWFudCA9IG51bGw7CmxldCB2YXJpYW50UXVhbnRpdHkgPSAxOwoKLy8gRE9NIEVsZW1lbnRzCmNvbnN0IHByb2R1Y3RzR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0c0dyaWQnKTsKY29uc3QgY2FydEl0ZW1zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnRJdGVtcycpOwpjb25zdCBlbXB0eUNhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wdHlDYXJ0Jyk7CmNvbnN0IGNhcnRDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJ0Q291bnQnKTsKY29uc3QgdG90YWxQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbFByaWNlJyk7CmNvbnN0IGNvbmZpcm1CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybUJ0bicpOwpjb25zdCBvcGVuQ2FydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGVuQ2FydCcpOwpjb25zdCBjbG9zZUNhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VDYXJ0Jyk7CmNvbnN0IGNhcnRTaWRlYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnRTaWRlYmFyJyk7CmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpOwpjb25zdCBvcmRlck1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZGVyTW9kYWwnKTsKY29uc3Qgb3JkZXJTdW1tYXJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZGVyU3VtbWFyeScpOwpjb25zdCBjbG9zZU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlTW9kYWwnKTsKY29uc3QgcGF5bWVudFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF5bWVudFNlY3Rpb24nKTsKY29uc3QgcGF5bWVudEVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BheW1lbnRFcnJvcicpOwoKLy8gVmFyaWFudCBNb2RhbCBFbGVtZW50cwpjb25zdCB2YXJpYW50TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFyaWFudE1vZGFsJyk7CmNvbnN0IHZhcmlhbnRNb2RhbFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhcmlhbnRNb2RhbFRpdGxlJyk7CmNvbnN0IHZhcmlhbnRMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhcmlhbnRMaXN0Jyk7CmNvbnN0IGNsb3NlVmFyaWFudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZVZhcmlhbnQnKTsKY29uc3QgdmFyaWFudFF0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YXJpYW50UXR5Jyk7CmNvbnN0IGRlY3JlYXNlUXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlY3JlYXNlUXR5Jyk7CmNvbnN0IGluY3JlYXNlUXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luY3JlYXNlUXR5Jyk7CmNvbnN0IGFkZFZhcmlhbnRUb0NhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkVmFyaWFudFRvQ2FydCcpOwoKLy8gRm9ybWF0IGhhcmdhIGtlIFJ1cGlhaApmdW5jdGlvbiBmb3JtYXRSdXBpYWgoYW1vdW50KSB7CiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdpZC1JRCcsIHsKICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICBjdXJyZW5jeTogJ0lEUicsCiAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwCiAgICB9KS5mb3JtYXQoYW1vdW50KTsKfQoKLy8gUmVuZGVyIHByb2R1ayBrZSBoYWxhbWFuIChUQU5QQSBIQVJHQSkKZnVuY3Rpb24gcmVuZGVyUHJvZHVjdHMoKSB7CiAgICBwcm9kdWN0c0dyaWQuaW5uZXJIVE1MID0gJyc7CiAgICAKICAgIHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7CiAgICAgICAgY29uc3QgcHJvZHVjdENhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBwcm9kdWN0Q2FyZC5jbGFzc05hbWUgPSAncHJvZHVjdC1jYXJkJzsKICAgICAgICAKICAgICAgICBwcm9kdWN0Q2FyZC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2R1Y3QtaW1hZ2UtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke3Byb2R1Y3QuYmFzZUltYWdlfSIgYWx0PSIke3Byb2R1Y3QubmFtZX0iIGNsYXNzPSJwcm9kdWN0LWltYWdlIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2R1Y3QtYmFkZ2UiPiR7cHJvZHVjdC5jYXRlZ29yeX08L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2R1Y3QtY29udGVudCI+CiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9InByb2R1Y3QtdGl0bGUiPiR7cHJvZHVjdC5uYW1lfTwvaDM+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0icHJvZHVjdC1kZXNjcmlwdGlvbiI+JHtwcm9kdWN0LmRlc2NyaXB0aW9ufTwvcD4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2R1Y3QtZm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhZGQtdG8tY2FydCIgZGF0YS1pZD0iJHtwcm9kdWN0LmlkfSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2FydC1wbHVzIj48L2k+IFBpbGloIFZhcmlhbgogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICAgICAgCiAgICAgICAgcHJvZHVjdHNHcmlkLmFwcGVuZENoaWxkKHByb2R1Y3RDYXJkKTsKICAgIH0pOwogICAgCiAgICAvLyBUYW1iYWhrYW4gZXZlbnQgbGlzdGVuZXIga2UgdG9tYm9sIHBpbGloIHZhcmlhbgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkZC10by1jYXJ0JykuZm9yRWFjaChidXR0b24gPT4gewogICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5WYXJpYW50TW9kYWwpOwogICAgfSk7Cn0KCi8vIEJ1a2EgbW9kYWwgcGlsaWhhbiB2YXJpYW4KZnVuY3Rpb24gb3BlblZhcmlhbnRNb2RhbChldmVudCkgewogICAgY29uc3QgcHJvZHVjdElkID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7CiAgICBjdXJyZW50UHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQocCA9PiBwLmlkID09PSBwcm9kdWN0SWQpOwogICAgCiAgICBpZiAoIWN1cnJlbnRQcm9kdWN0KSByZXR1cm47CiAgICAKICAgIC8vIFJlc2V0IHBpbGloYW4gdmFyaWFuIGRhbiBxdWFudGl0eQogICAgc2VsZWN0ZWRWYXJpYW50ID0gbnVsbDsKICAgIHZhcmlhbnRRdWFudGl0eSA9IDE7CiAgICB2YXJpYW50UXR5LnRleHRDb250ZW50ID0gJzEnOwogICAgYWRkVmFyaWFudFRvQ2FydC5kaXNhYmxlZCA9IHRydWU7CiAgICAKICAgIC8vIFNldCBqdWR1bCBtb2RhbAogICAgdmFyaWFudE1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSBgUGlsaWggVmFyaWFuIC0gJHtjdXJyZW50UHJvZHVjdC5uYW1lfWA7CiAgICAKICAgIC8vIFJlbmRlciBkYWZ0YXIgdmFyaWFuCiAgICByZW5kZXJWYXJpYW50cygpOwogICAgCiAgICAvLyBCdWthIG1vZGFsCiAgICB2YXJpYW50TW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwp9CgovLyBSZW5kZXIgZGFmdGFyIHZhcmlhbiAoREVOR0FOIEhBUkdBKQpmdW5jdGlvbiByZW5kZXJWYXJpYW50cygpIHsKICAgIHZhcmlhbnRMaXN0LmlubmVySFRNTCA9ICcnOwogICAgCiAgICBjdXJyZW50UHJvZHVjdC52YXJpYW50cy5mb3JFYWNoKHZhcmlhbnQgPT4gewogICAgICAgIGNvbnN0IHZhcmlhbnRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdmFyaWFudEl0ZW0uY2xhc3NOYW1lID0gJ3ZhcmlhbnQtaXRlbSc7CiAgICAgICAgdmFyaWFudEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgdmFyaWFudC5pZCk7CiAgICAgICAgCiAgICAgICAgdmFyaWFudEl0ZW0uaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idmFyaWFudC1uYW1lIj4ke3ZhcmlhbnQubmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InZhcmlhbnQtZGVzY3JpcHRpb24iPiR7dmFyaWFudC5kZXNjcmlwdGlvbn08L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InZhcmlhbnQtcHJpY2UiPiR7Zm9ybWF0UnVwaWFoKHZhcmlhbnQucHJpY2UpfTwvZGl2PgogICAgICAgIGA7CiAgICAgICAgCiAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXIgdW50dWsgbWVtaWxpaCB2YXJpYW4KICAgICAgICB2YXJpYW50SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgLy8gSGFwdXMgc2VsZWtzaSBkYXJpIHNlbXVhIHZhcmlhbgogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmFyaWFudC1pdGVtJykuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUYW1iYWggc2VsZWtzaSBrZSB2YXJpYW4geWFuZyBkaXBpbGloCiAgICAgICAgICAgIHZhcmlhbnRJdGVtLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7CiAgICAgICAgICAgIHNlbGVjdGVkVmFyaWFudCA9IHZhcmlhbnQ7CiAgICAgICAgICAgIGFkZFZhcmlhbnRUb0NhcnQuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICB2YXJpYW50TGlzdC5hcHBlbmRDaGlsZCh2YXJpYW50SXRlbSk7CiAgICB9KTsKfQoKLy8gVHV0dXAgbW9kYWwgdmFyaWFuCmZ1bmN0aW9uIGNsb3NlVmFyaWFudE1vZGFsKCkgewogICAgdmFyaWFudE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7Cn0KCi8vIFRhbWJhaCB2YXJpYW4ga2Uga2VyYW5qYW5nCmZ1bmN0aW9uIGFkZFZhcmlhbnRUb0NhcnRGdW5jKCkgewogICAgaWYgKCFjdXJyZW50UHJvZHVjdCB8fCAhc2VsZWN0ZWRWYXJpYW50KSByZXR1cm47CiAgICAKICAgIC8vIENlayBhcGFrYWggdmFyaWFuIHN1ZGFoIGFkYSBkaSBrZXJhbmphbmcKICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IGNhcnQuZmluZChpdGVtID0+IGl0ZW0udmFyaWFudElkID09PSBzZWxlY3RlZFZhcmlhbnQuaWQpOwogICAgCiAgICBpZiAoZXhpc3RpbmdJdGVtKSB7CiAgICAgICAgZXhpc3RpbmdJdGVtLnF1YW50aXR5ICs9IHZhcmlhbnRRdWFudGl0eTsKICAgIH0gZWxzZSB7CiAgICAgICAgY2FydC5wdXNoKHsKICAgICAgICAgICAgaWQ6IGN1cnJlbnRQcm9kdWN0LmlkLAogICAgICAgICAgICBuYW1lOiBjdXJyZW50UHJvZHVjdC5uYW1lLAogICAgICAgICAgICB2YXJpYW50SWQ6IHNlbGVjdGVkVmFyaWFudC5pZCwKICAgICAgICAgICAgdmFyaWFudE5hbWU6IHNlbGVjdGVkVmFyaWFudC5uYW1lLAogICAgICAgICAgICBwcmljZTogc2VsZWN0ZWRWYXJpYW50LnByaWNlLAogICAgICAgICAgICBpbWFnZTogc2VsZWN0ZWRWYXJpYW50LmltYWdlLAogICAgICAgICAgICBxdWFudGl0eTogdmFyaWFudFF1YW50aXR5CiAgICAgICAgfSk7CiAgICB9CiAgICAKICAgIC8vIFNpbXBhbiBrZSBsb2NhbFN0b3JhZ2UKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YWtpc3RvcmVfY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnQpKTsKICAgIAogICAgLy8gVXBkYXRlIHRhbXBpbGFuIGtlcmFuamFuZwogICAgdXBkYXRlQ2FydCgpOwogICAgCiAgICAvLyBUdXR1cCBtb2RhbCB2YXJpYW4KICAgIGNsb3NlVmFyaWFudE1vZGFsKCk7CiAgICAKICAgIC8vIEJ1a2Ega2VyYW5qYW5nCiAgICBvcGVuQ2FydCgpOwogICAgCiAgICAvLyBUYW1waWxrYW4gbm90aWZpa2FzaSBzdWtzZXMKICAgIHNob3dOb3RpZmljYXRpb24oYCR7c2VsZWN0ZWRWYXJpYW50Lm5hbWV9IGRpdGFtYmFoa2FuIGtlIGtlcmFuamFuZyFgKTsKfQoKLy8gVGFtcGlsa2FuIG5vdGlmaWthc2kKZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbihtZXNzYWdlKSB7CiAgICAvLyBIYXB1cyBub3RpZmlrYXNpIHNlYmVsdW1ueWEgamlrYSBhZGEKICAgIGNvbnN0IGV4aXN0aW5nTm90aWZpY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGlmaWNhdGlvbicpOwogICAgaWYgKGV4aXN0aW5nTm90aWZpY2F0aW9uKSB7CiAgICAgICAgZXhpc3RpbmdOb3RpZmljYXRpb24ucmVtb3ZlKCk7CiAgICB9CiAgICAKICAgIC8vIEJ1YXQgZWxlbWVuIG5vdGlmaWthc2kKICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgbm90aWZpY2F0aW9uLmNsYXNzTmFtZSA9ICdub3RpZmljYXRpb24nOwogICAgbm90aWZpY2F0aW9uLmlubmVySFRNTCA9IGAKICAgICAgICA8ZGl2IHN0eWxlPSIKICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICB0b3A6IDIwcHg7CiAgICAgICAgICAgIHJpZ2h0OiAyMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHggMjRweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDI1cHggcmdiYSgwLDAsMCwwLjEpOwogICAgICAgICAgICB6LWluZGV4OiAyMDAwOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDEycHg7CiAgICAgICAgICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2Utb3V0OwogICAgICAgICI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+CiAgICAgICAgICAgIDxzcGFuPiR7bWVzc2FnZX08L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICBgOwogICAgCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbik7CiAgICAKICAgIC8vIEhhcHVzIG5vdGlmaWthc2kgc2V0ZWxhaCAzIGRldGlrCiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBub3RpZmljYXRpb24uc3R5bGUuYW5pbWF0aW9uID0gJ3NsaWRlT3V0IDAuM3MgZWFzZS1vdXQnOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vdGlmaWNhdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAzMDApOwogICAgfSwgMzAwMCk7CiAgICAKICAgIC8vIFRhbWJhaGthbiBhbmltYXNpIENTUwogICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGUudGV4dENvbnRlbnQgPSBgCiAgICAgICAgQGtleWZyYW1lcyBzbGlkZUluIHsKICAgICAgICAgICAgZnJvbSB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgQGtleWZyYW1lcyBzbGlkZU91dCB7CiAgICAgICAgICAgIGZyb20gewogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwogICAgICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0byB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgYDsKICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vdGlmaWNhdGlvbi1zdHlsZScpKSB7CiAgICAgICAgc3R5bGUuaWQgPSAnbm90aWZpY2F0aW9uLXN0eWxlJzsKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgIH0KfQoKLy8gVXBkYXRlIHRhbXBpbGFuIGtlcmFuamFuZwpmdW5jdGlvbiB1cGRhdGVDYXJ0KCkgewogICAgLy8gVXBkYXRlIGp1bWxhaCBpdGVtIGRpIGlrb24ga2VyYW5qYW5nCiAgICBjb25zdCB0b3RhbEl0ZW1zID0gY2FydC5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIGl0ZW0ucXVhbnRpdHksIDApOwogICAgY2FydENvdW50LnRleHRDb250ZW50ID0gdG90YWxJdGVtczsKICAgIAogICAgLy8gVGFtcGlsa2FuIGF0YXUgc2VtYnVueWlrYW4ga2VyYW5qYW5nIGtvc29uZwogICAgaWYgKGNhcnQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZW1wdHlDYXJ0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgcGF5bWVudFNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBjb25maXJtQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgZW1wdHlDYXJ0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgcGF5bWVudFNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgCiAgICAgICAgLy8gUmVzZXQgbWV0b2RlIHBlbWJheWFyYW4gamlrYSBrZXJhbmphbmcga29zb25nCiAgICAgICAgc2VsZWN0ZWRQYXltZW50TWV0aG9kID0gbnVsbDsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5bWVudC1tZXRob2QnKS5mb3JFYWNoKG1ldGhvZCA9PiB7CiAgICAgICAgICAgIG1ldGhvZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIEVuYWJsZS9kaXNhYmxlIHRvbWJvbCBrb25maXJtYXNpIGJlcmRhc2Fya2FuIHBlbWlsaWhhbiBtZXRvZGUKICAgICAgICB1cGRhdGVDb25maXJtQnV0dG9uU3RhdGUoKTsKICAgICAgICAKICAgICAgICAvLyBSZW5kZXIgaXRlbSBkaSBrZXJhbmphbmcKICAgICAgICByZW5kZXJDYXJ0SXRlbXMoKTsKICAgIH0KICAgIAogICAgLy8gVXBkYXRlIHRvdGFsIGhhcmdhCiAgICB1cGRhdGVUb3RhbFByaWNlKCk7Cn0KCi8vIFJlbmRlciBpdGVtIGRpIGtlcmFuamFuZwpmdW5jdGlvbiByZW5kZXJDYXJ0SXRlbXMoKSB7CiAgICAvLyBIYXB1cyBzZW11YSBpdGVtIGNhcnQtaXRlbSB5YW5nIGFkYQogICAgY29uc3QgZXhpc3RpbmdJdGVtcyA9IGNhcnRJdGVtc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY2FydC1pdGVtJyk7CiAgICBleGlzdGluZ0l0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgaXRlbS5yZW1vdmUoKTsKICAgIH0pOwogICAgCiAgICAvLyBKaWthIGtlcmFuamFuZyBrb3NvbmcsIGtlbHVhciBkYXJpIGZ1bmdzaQogICAgaWYgKGNhcnQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICAvLyBUYW1iYWhrYW4gaXRlbSBiYXJ1CiAgICBjYXJ0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgY29uc3QgY2FydEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBjYXJ0SXRlbS5jbGFzc05hbWUgPSAnY2FydC1pdGVtJzsKICAgICAgICBjYXJ0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBpdGVtLnZhcmlhbnRJZCk7CiAgICAgICAgCiAgICAgICAgY2FydEl0ZW0uaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8aW1nIHNyYz0iJHtpdGVtLmltYWdlIHx8IGl0ZW0uYmFzZUltYWdlIHx8ICdkZWZhdWx0LnBuZyd9IiBhbHQ9IiR7aXRlbS5uYW1lfSIgY2xhc3M9ImNhcnQtaXRlbS1pbWFnZSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcnQtaXRlbS1kZXRhaWxzIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcnQtaXRlbS10aXRsZSI+JHtpdGVtLm5hbWV9PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJ0LWl0ZW0tdmFyaWFudCI+JHtpdGVtLnZhcmlhbnROYW1lfTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FydC1pdGVtLXByaWNlIj4ke2Zvcm1hdFJ1cGlhaChpdGVtLnByaWNlKX08L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcnQtaXRlbS1jb250cm9scyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWFudGl0eS1jb250cm9sIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJxdWFudGl0eS1idG4gZGVjcmVhc2UiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLW1pbnVzIj48L2k+CiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Iml0ZW0tcXVhbnRpdHkiPiR7aXRlbS5xdWFudGl0eX08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icXVhbnRpdHktYnRuIGluY3JlYXNlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+CiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InJlbW92ZS1pdGVtIj4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgICAKICAgICAgICBjYXJ0SXRlbXNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FydEl0ZW0pOwogICAgfSk7CiAgICAKICAgIC8vIFRhbWJhaGthbiBldmVudCBsaXN0ZW5lciB1bnR1ayBrb250cm9sIGt1YW50aXRhcwogICAgYXR0YWNoQ2FydEV2ZW50TGlzdGVuZXJzKCk7Cn0KCi8vIEZ1bmdzaSB1bnR1ayBtZW5hbWJhaGthbiBldmVudCBsaXN0ZW5lciBrZSBpdGVtIGtlcmFuamFuZwpmdW5jdGlvbiBhdHRhY2hDYXJ0RXZlbnRMaXN0ZW5lcnMoKSB7CiAgICAvLyBFdmVudCBsaXN0ZW5lciB1bnR1ayB0b21ib2wgdGFtYmFoCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5jcmVhc2UnKS5mb3JFYWNoKGJ1dHRvbiA9PiB7CiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBjb25zdCBjYXJ0SXRlbSA9IHRoaXMuY2xvc2VzdCgnLmNhcnQtaXRlbScpOwogICAgICAgICAgICBjb25zdCB2YXJpYW50SWQgPSBjYXJ0SXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTsKICAgICAgICAgICAgaW5jcmVhc2VRdWFudGl0eSh2YXJpYW50SWQpOwogICAgICAgIH0pOwogICAgfSk7CiAgICAKICAgIC8vIEV2ZW50IGxpc3RlbmVyIHVudHVrIHRvbWJvbCBrdXJhbmcKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWNyZWFzZScpLmZvckVhY2goYnV0dG9uID0+IHsKICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGNvbnN0IGNhcnRJdGVtID0gdGhpcy5jbG9zZXN0KCcuY2FydC1pdGVtJyk7CiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRJZCA9IGNhcnRJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpOwogICAgICAgICAgICBkZWNyZWFzZVF1YW50aXR5KHZhcmlhbnRJZCk7CiAgICAgICAgfSk7CiAgICB9KTsKICAgIAogICAgLy8gRXZlbnQgbGlzdGVuZXIgdW50dWsgdG9tYm9sIGhhcHVzCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVtb3ZlLWl0ZW0nKS5mb3JFYWNoKGJ1dHRvbiA9PiB7CiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBjb25zdCBjYXJ0SXRlbSA9IHRoaXMuY2xvc2VzdCgnLmNhcnQtaXRlbScpOwogICAgICAgICAgICBjb25zdCB2YXJpYW50SWQgPSBjYXJ0SXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTsKICAgICAgICAgICAgcmVtb3ZlSXRlbSh2YXJpYW50SWQpOwogICAgICAgIH0pOwogICAgfSk7Cn0KCi8vIFVwZGF0ZSB0b3RhbCBoYXJnYQpmdW5jdGlvbiB1cGRhdGVUb3RhbFByaWNlKCkgewogICAgY29uc3QgdG90YWwgPSBjYXJ0LnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyAoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLCAwKTsKICAgIHRvdGFsUHJpY2UudGV4dENvbnRlbnQgPSBmb3JtYXRSdXBpYWgodG90YWwpOwp9CgovLyBUYW1iYWgganVtbGFoIGl0ZW0KZnVuY3Rpb24gaW5jcmVhc2VRdWFudGl0eSh2YXJpYW50SWQpIHsKICAgIGNvbnN0IGl0ZW0gPSBjYXJ0LmZpbmQoaXRlbSA9PiBpdGVtLnZhcmlhbnRJZCA9PT0gdmFyaWFudElkKTsKICAgIGlmIChpdGVtKSB7CiAgICAgICAgaXRlbS5xdWFudGl0eSArPSAxOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YWtpc3RvcmVfY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnQpKTsKICAgICAgICB1cGRhdGVDYXJ0KCk7CiAgICB9Cn0KCi8vIEt1cmFuZ2kganVtbGFoIGl0ZW0KZnVuY3Rpb24gZGVjcmVhc2VRdWFudGl0eSh2YXJpYW50SWQpIHsKICAgIGNvbnN0IGl0ZW0gPSBjYXJ0LmZpbmQoaXRlbSA9PiBpdGVtLnZhcmlhbnRJZCA9PT0gdmFyaWFudElkKTsKICAgIGlmIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0ucXVhbnRpdHkgPiAxKSB7CiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHkgLT0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBKaWthIGp1bWxhaCBtZW5qYWRpIDAsIGhhcHVzIGl0ZW0gZGFyaSBrZXJhbmphbmcKICAgICAgICAgICAgY2FydCA9IGNhcnQuZmlsdGVyKGNhcnRJdGVtID0+IGNhcnRJdGVtLnZhcmlhbnRJZCAhPT0gdmFyaWFudElkKTsKICAgICAgICB9CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rha2lzdG9yZV9jYXJ0JywgSlNPTi5zdHJpbmdpZnkoY2FydCkpOwogICAgICAgIHVwZGF0ZUNhcnQoKTsKICAgIH0KfQoKLy8gSGFwdXMgaXRlbSBkYXJpIGtlcmFuamFuZwpmdW5jdGlvbiByZW1vdmVJdGVtKHZhcmlhbnRJZCkgewogICAgY2FydCA9IGNhcnQuZmlsdGVyKGl0ZW0gPT4gaXRlbS52YXJpYW50SWQgIT09IHZhcmlhbnRJZCk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFraXN0b3JlX2NhcnQnLCBKU09OLnN0cmluZ2lmeShjYXJ0KSk7CiAgICB1cGRhdGVDYXJ0KCk7Cn0KCi8vIEZ1bmdzaSB1bnR1ayBtZW1pbGloIG1ldG9kZSBwZW1iYXlhcmFuCmZ1bmN0aW9uIHNlbGVjdFBheW1lbnRNZXRob2QobWV0aG9kKSB7CiAgICAvLyBIYXB1cyBzZWxla3NpIGRhcmkgc2VtdWEgbWV0b2RlCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5bWVudC1tZXRob2QnKS5mb3JFYWNoKG1ldGhvZCA9PiB7CiAgICAgICAgbWV0aG9kLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7CiAgICB9KTsKICAgIAogICAgLy8gVGFtYmFoIHNlbGVrc2kga2UgbWV0b2RlIHlhbmcgZGlwaWxpaAogICAgY29uc3Qgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtbWV0aG9kPSIke21ldGhvZH0iXWApOwogICAgc2VsZWN0ZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7CiAgICAKICAgIC8vIFNpbXBhbiBtZXRvZGUgeWFuZyBkaXBpbGloCiAgICBzZWxlY3RlZFBheW1lbnRNZXRob2QgPSBtZXRob2Q7CiAgICAKICAgIC8vIFNlbWJ1bnlpa2FuIHBlc2FuIGVycm9yCiAgICBwYXltZW50RXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIAogICAgLy8gVXBkYXRlIHN0YXRlIHRvbWJvbCBrb25maXJtYXNpCiAgICB1cGRhdGVDb25maXJtQnV0dG9uU3RhdGUoKTsKfQoKLy8gVXBkYXRlIHN0YXRlIHRvbWJvbCBrb25maXJtYXNpIGJlcmRhc2Fya2FuIGtvbmRpc2kKZnVuY3Rpb24gdXBkYXRlQ29uZmlybUJ1dHRvblN0YXRlKCkgewogICAgaWYgKGNhcnQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgY29uZmlybUJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICB9IGVsc2UgaWYgKHNlbGVjdGVkUGF5bWVudE1ldGhvZCkgewogICAgICAgIGNvbmZpcm1CdG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uZmlybUJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICB9Cn0KCi8vIEdlbmVyYXRlIHBlc2FuIHVudHVrIFdoYXRzQXBwIHNlc3VhaSBmb3JtYXQgeWFuZyBkaW1pbnRhCmZ1bmN0aW9uIGdlbmVyYXRlV2hhdHNBcHBNZXNzYWdlKCkgewogICAgbGV0IG1lc3NhZ2UgPSBgSGFsbywgc2F5YSBpbmdpbiBtZW1iZWxpIGFwbGlrYXNpIHByZW1pdW0gZGFyaSBUYWtpU3RvcmU6XG5cbmA7CiAgICAKICAgIGNhcnQuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBtZXNzYWdlICs9IGBCYXJhbmc6ICR7aXRlbS5uYW1lfSAtICR7aXRlbS52YXJpYW50TmFtZX1cbmA7CiAgICAgICAgbWVzc2FnZSArPSBgSnVtbGFoOiAke2l0ZW0ucXVhbnRpdHl9XG5gOwogICAgICAgIG1lc3NhZ2UgKz0gYFN1YnRvdGFsOiAke2Zvcm1hdFJ1cGlhaChpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSl9XG5cbmA7CiAgICB9KTsKICAgIAogICAgLy8gSGl0dW5nIHRvdGFsIHNlbXVhIGJhcmFuZwogICAgY29uc3QgdG90YWwgPSBjYXJ0LnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyAoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLCAwKTsKICAgIG1lc3NhZ2UgKz0gYFRvdGFsOiAke2Zvcm1hdFJ1cGlhaCh0b3RhbCl9XG5gOwogICAgbWVzc2FnZSArPSBgTWV0b2RlIFBlbWJheWFyYW46ICR7c2VsZWN0ZWRQYXltZW50TWV0aG9kID09PSAnZGFuYScgPyAnREFOQScgOiAnUVJJUyd9YDsKICAgIAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtZXNzYWdlKTsKfQoKLy8gR2VuZXJhdGUgcmluZ2thc2FuIHBlc2FuYW4gdW50dWsgbW9kYWwKZnVuY3Rpb24gZ2VuZXJhdGVPcmRlclN1bW1hcnkoKSB7CiAgICBsZXQgc3VtbWFyeSA9ICcnOwogICAgCiAgICBjYXJ0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgc3VtbWFyeSArPSBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZGVyLWl0ZW0iPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+JHtpdGVtLm5hbWV9PC9zdHJvbmc+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjg1cmVtOyBjb2xvcjogdmFyKC0tZ3JheSk7Ij4ke2l0ZW0udmFyaWFudE5hbWV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjlyZW07IGNvbG9yOiB2YXIoLS1ncmF5KTsiPiR7aXRlbS5xdWFudGl0eX0geCAke2Zvcm1hdFJ1cGlhaChpdGVtLnByaWNlKX08L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdj4ke2Zvcm1hdFJ1cGlhaChpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSl9PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICB9KTsKICAgIAogICAgY29uc3QgdG90YWwgPSBjYXJ0LnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyAoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLCAwKTsKICAgIAogICAgLy8gVGFtYmFoa2FuIG1ldG9kZSBwZW1iYXlhcmFuIGRpIHJpbmdrYXNhbgogICAgbGV0IHBheW1lbnRNZXRob2RUZXh0ID0gJyc7CiAgICBpZiAoc2VsZWN0ZWRQYXltZW50TWV0aG9kID09PSAnZGFuYScpIHsKICAgICAgICBwYXltZW50TWV0aG9kVGV4dCA9ICdEQU5BJzsKICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRQYXltZW50TWV0aG9kID09PSAncXJpcycpIHsKICAgICAgICBwYXltZW50TWV0aG9kVGV4dCA9ICdRUklTJzsKICAgIH0KICAgIAogICAgc3VtbWFyeSArPSBgCiAgICAgICAgPGRpdiBjbGFzcz0ib3JkZXItaXRlbSI+CiAgICAgICAgICAgIDxkaXY+PHN0cm9uZz5NZXRvZGUgUGVtYmF5YXJhbjwvc3Ryb25nPjwvZGl2PgogICAgICAgICAgICA8ZGl2PiR7cGF5bWVudE1ldGhvZFRleHR9PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ib3JkZXItdG90YWwiPgogICAgICAgICAgICA8c3Bhbj5Ub3RhbDwvc3Bhbj4KICAgICAgICAgICAgPHNwYW4+JHtmb3JtYXRSdXBpYWgodG90YWwpfTwvc3Bhbj4KICAgICAgICA8L2Rpdj4KICAgIGA7CiAgICAKICAgIHJldHVybiBzdW1tYXJ5Owp9CgovLyBCdWthIGtlcmFuamFuZwpmdW5jdGlvbiBvcGVuQ2FydCgpIHsKICAgIGNhcnRTaWRlYmFyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsKfQoKLy8gVHV0dXAga2VyYW5qYW5nCmZ1bmN0aW9uIGNsb3NlQ2FydCgpIHsKICAgIGNhcnRTaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7Cn0KCi8vIEJ1a2EgbW9kYWwKZnVuY3Rpb24gb3Blbk1vZGFsKCkgewogICAgb3JkZXJNb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7Cn0KCi8vIFR1dHVwIG1vZGFsCmZ1bmN0aW9uIGNsb3NlTW9kYWxGdW5jKCkgewogICAgb3JkZXJNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nOwp9CgovLyBWYWxpZGFzaSBzZWJlbHVtIGtvbmZpcm1hc2kKZnVuY3Rpb24gdmFsaWRhdGVCZWZvcmVDb25maXJtKCkgewogICAgaWYgKGNhcnQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgYWxlcnQoJ0tlcmFuamFuZyBiZWxhbmphIGtvc29uZyEgVGFtYmFoa2FuIHByb2R1ayB0ZXJsZWJpaCBkYWh1bHUuJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgCiAgICBpZiAoIXNlbGVjdGVkUGF5bWVudE1ldGhvZCkgewogICAgICAgIC8vIFRhbXBpbGthbiBwZXNhbiBlcnJvcgogICAgICAgIHBheW1lbnRFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAKICAgICAgICAvLyBTY3JvbGwga2UgYmFnaWFuIHBlbWJheWFyYW4KICAgICAgICBwYXltZW50U2VjdGlvbi5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInIH0pOwogICAgICAgIAogICAgICAgIC8vIEFuaW1hc2kgZXJyb3IKICAgICAgICBwYXltZW50U2VjdGlvbi5zdHlsZS5hbmltYXRpb24gPSAnbm9uZSc7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHBheW1lbnRTZWN0aW9uLnN0eWxlLmFuaW1hdGlvbiA9ICdzaGFrZSAwLjVzIGVhc2UtaW4tb3V0JzsKICAgICAgICB9LCAxMCk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgCiAgICByZXR1cm4gdHJ1ZTsKfQoKLy8gSW5pc2lhbGlzYXNpIGFwbGlrYXNpCmZ1bmN0aW9uIGluaXQoKSB7CiAgICAvLyBTZXQgdmlld3BvcnQgaGVpZ2h0IHVudHVrIG1vYmlsZQogICAgc2V0Vmlld3BvcnRIZWlnaHQoKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzZXRWaWV3cG9ydEhlaWdodCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBzZXRWaWV3cG9ydEhlaWdodCk7CiAgICAKICAgIHJlbmRlclByb2R1Y3RzKCk7CiAgICB1cGRhdGVDYXJ0KCk7CiAgICAKICAgIC8vIEV2ZW50IGxpc3RlbmVyIHVudHVrIG1ldG9kZSBwZW1iYXlhcmFuCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5bWVudC1tZXRob2QnKS5mb3JFYWNoKG1ldGhvZCA9PiB7CiAgICAgICAgbWV0aG9kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1tZXRob2QnKTsKICAgICAgICAgICAgc2VsZWN0UGF5bWVudE1ldGhvZChtZXRob2ROYW1lKTsKICAgICAgICB9KTsKICAgIH0pOwogICAgCiAgICAvLyBFdmVudCBsaXN0ZW5lciB1bnR1ayBrb250cm9sIHF1YW50aXR5IGRpIG1vZGFsIHZhcmlhbgogICAgZGVjcmVhc2VRdHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgaWYgKHZhcmlhbnRRdWFudGl0eSA+IDEpIHsKICAgICAgICAgICAgdmFyaWFudFF1YW50aXR5LS07CiAgICAgICAgICAgIHZhcmlhbnRRdHkudGV4dENvbnRlbnQgPSB2YXJpYW50UXVhbnRpdHk7CiAgICAgICAgfQogICAgfSk7CiAgICAKICAgIGluY3JlYXNlUXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgIHZhcmlhbnRRdWFudGl0eSsrOwogICAgICAgIHZhcmlhbnRRdHkudGV4dENvbnRlbnQgPSB2YXJpYW50UXVhbnRpdHk7CiAgICB9KTsKICAgIAogICAgLy8gRXZlbnQgbGlzdGVuZXIgdW50dWsgdG9tYm9sIHRhbWJhaCBrZSBrZXJhbmphbmcgZGkgbW9kYWwgdmFyaWFuCiAgICBhZGRWYXJpYW50VG9DYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkVmFyaWFudFRvQ2FydEZ1bmMpOwogICAgCiAgICAvLyBFdmVudCBsaXN0ZW5lciB1bnR1ayB0dXR1cCBtb2RhbCB2YXJpYW4KICAgIGNsb3NlVmFyaWFudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlVmFyaWFudE1vZGFsKTsKICAgIAogICAgLy8gRXZlbnQgbGlzdGVuZXIgdW50dWsgb3ZlcmxheQogICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBjbG9zZUNhcnQoKTsKICAgICAgICBjbG9zZU1vZGFsRnVuYygpOwogICAgICAgIGNsb3NlVmFyaWFudE1vZGFsKCk7CiAgICB9KTsKICAgIAogICAgLy8gRXZlbnQgbGlzdGVuZXIgdW50dWsga2VyYW5qYW5nCiAgICBvcGVuQ2FydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5DYXJ0KTsKICAgIGNsb3NlQ2FydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ2FydCk7CiAgICAKICAgIC8vIEV2ZW50IGxpc3RlbmVyIHVudHVrIHRvbWJvbCBrb25maXJtYXNpCiAgICBjb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgIC8vIFZhbGlkYXNpIHNlYmVsdW0ga29uZmlybWFzaQogICAgICAgIGlmICghdmFsaWRhdGVCZWZvcmVDb25maXJtKCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBOb21vciBXaGF0c0FwcCBBbmRhCiAgICAgICAgY29uc3QgcGhvbmVOdW1iZXIgPSAiNjI4NzcxNjgxNzU4NiI7CiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdlbmVyYXRlV2hhdHNBcHBNZXNzYWdlKCk7CiAgICAgICAgY29uc3Qgd2hhdHNhcHBVcmwgPSBgaHR0cHM6Ly93YS5tZS8ke3Bob25lTnVtYmVyfT90ZXh0PSR7bWVzc2FnZX1gOwogICAgICAgIAogICAgICAgIC8vIEJ1a2EgV2hhdHNBcHAgZGkgdGFiIGJhcnUKICAgICAgICB3aW5kb3cub3Blbih3aGF0c2FwcFVybCwgJ19ibGFuaycpOwogICAgICAgIAogICAgICAgIC8vIFRhbXBpbGthbiBtb2RhbCBrb25maXJtYXNpCiAgICAgICAgb3JkZXJTdW1tYXJ5LmlubmVySFRNTCA9IGdlbmVyYXRlT3JkZXJTdW1tYXJ5KCk7CiAgICAgICAgb3Blbk1vZGFsKCk7CiAgICAgICAgCiAgICAgICAgLy8gS29zb25na2FuIGtlcmFuamFuZwogICAgICAgIGNhcnQgPSBbXTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFraXN0b3JlX2NhcnQnLCBKU09OLnN0cmluZ2lmeShjYXJ0KSk7CiAgICAgICAgdXBkYXRlQ2FydCgpOwogICAgICAgIAogICAgICAgIC8vIFJlc2V0IG1ldG9kZSBwZW1iYXlhcmFuCiAgICAgICAgc2VsZWN0ZWRQYXltZW50TWV0aG9kID0gbnVsbDsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5bWVudC1tZXRob2QnKS5mb3JFYWNoKG1ldGhvZCA9PiB7CiAgICAgICAgICAgIG1ldGhvZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIFR1dHVwIGtlcmFuamFuZwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBjbG9zZUNhcnQoKTsKICAgICAgICB9LCAxMDAwKTsKICAgIH0pOwogICAgCiAgICAvLyBFdmVudCBsaXN0ZW5lciB1bnR1ayB0dXR1cCBtb2RhbAogICAgY2xvc2VNb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9kYWxGdW5jKTsKICAgIAogICAgLy8gVGFtYmFoa2FuIGFuaW1hc2kgc2hha2UgdW50dWsgZXJyb3IKICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHN0eWxlLnRleHRDb250ZW50ID0gYAogICAgICAgIEBrZXlmcmFtZXMgc2hha2UgewogICAgICAgICAgICAwJSwgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfQogICAgICAgICAgICAxMCUsIDMwJSwgNTAlLCA3MCUsIDkwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfQogICAgICAgICAgICAyMCUsIDQwJSwgNjAlLCA4MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTsgfQogICAgICAgIH0KICAgIGA7CiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKfQoKLy8gSmFsYW5rYW4gYXBsaWthc2kgc2FhdCBoYWxhbWFuIGRpbXVhdApkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCk7Cg==";
var _0xDec = function(str) {
    return decodeURIComponent(escape(window.atob(str)));
};
eval(_0xDec(_0x));
